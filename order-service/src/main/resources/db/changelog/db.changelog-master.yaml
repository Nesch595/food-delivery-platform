databaseChangeLog:
- changeSet:
    id: 1762279664383-1
    author: Nastya (generated)
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              nullable: false
              primaryKey: true
              primaryKeyName: order_pk
            name: id
            type: BIGINT
        - column:
            constraints:
              nullable: false
            name: status
            type: VARCHAR
        - column:
            constraints:
              nullable: false
            defaultValueComputed: now()
            name: order_date
            type: TIMESTAMP WITH TIME ZONE
        - column:
            constraints:
              nullable: false
            name: user_id
            type: BIGINT
        - column:
            constraints:
              nullable: false
            name: restaurant_id
            type: BIGINT
        - column:
            constraints:
              nullable: false
            name: total_price
            type: INTEGER
        tableName: order
- changeSet:
    id: 1762279664383-2
    author: Nastya (generated)
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              nullable: false
              primaryKey: true
              primaryKeyName: order_item_pk
            name: id
            type: BIGINT
        - column:
            constraints:
              nullable: false
            name: order_id
            type: BIGINT
        - column:
            constraints:
              nullable: false
            name: dish_id
            type: BIGINT
        - column:
            constraints:
              nullable: false
            defaultValueNumeric: 1
            name: quantity
            type: INTEGER
        - column:
            constraints:
              nullable: false
            name: price
            type: INTEGER
        tableName: order_item
- changeSet:
    id: 1762279664383-3
    author: Nastya (generated)
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              nullable: false
              primaryKey: true
              primaryKeyName: payment_pk
            name: id
            type: BIGINT
        - column:
            constraints:
              nullable: false
            name: order_id
            type: BIGINT
        - column:
            constraints:
              nullable: false
            name: method
            type: VARCHAR
        - column:
            constraints:
              nullable: false
            defaultValueNumeric: 1
            name: amount
            type: INTEGER
        - column:
            constraints:
              nullable: false
            name: status
            type: VARCHAR
        tableName: payment
- changeSet:
    id: 1762279664383-4
    author: Nastya (generated)
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: order_id
        baseTableName: order_item
        constraintName: order_item_fk
        deferrable: false
        initiallyDeferred: false
        onDelete: RESTRICT
        onUpdate: CASCADE
        referencedColumnNames: id
        referencedTableName: order
        validate: true
- changeSet:
    id: 1762279664383-5
    author: Nastya (generated)
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: order_id
        baseTableName: payment
        constraintName: payment_order_fk
        deferrable: false
        initiallyDeferred: false
        onDelete: RESTRICT
        onUpdate: CASCADE
        referencedColumnNames: id
        referencedTableName: order
        validate: true

